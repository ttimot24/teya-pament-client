{"swagger":"2.0","info":{"version":"v1","title":"Borgun Payment API"},"host":"test.borgun.is","basePath":"/rpg","schemes":["https"],"paths":{"/api/events/{eventId}":{"get":{"tags":["Events"],"summary":"Gets event by eventId.","operationId":"Events_GetEvent","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"eventId","in":"path","description":"EventId provided by Borgun.","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/EventNotification"}},"400":{"description":"Invalid event id","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"},"404":{"description":"NotFound"}},"deprecated":false}},"/api/mpi/v1/form":{"post":{"tags":["MPIV1"],"operationId":"MPIV1_CreateMPIFormRequest","consumes":["application/json","text/json","text/html","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"request","in":"body","required":true,"schema":{"$ref":"#/definitions/MPIFormRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}},"deprecated":false}},"/api/mpi/v2/enrollment":{"post":{"tags":["MPIV2"],"operationId":"MPIV2_EnrollmentRequest","consumes":["application/json","text/json","text/html","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"request","in":"body","required":true,"schema":{"$ref":"#/definitions/MPIEnrollmentRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}},"deprecated":false}},"/api/mpi/v2/validation":{"post":{"tags":["MPIV2"],"operationId":"MPIV2_PAResRequest","consumes":["application/json","text/json","text/html","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"request","in":"body","required":true,"schema":{"$ref":"#/definitions/MPIPAResRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}},"deprecated":false}},"/api/payment":{"post":{"tags":["Payment"],"summary":"Create payment","operationId":"Payment_CreatePayment","consumes":["application/json","text/json","text/html","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"request","in":"body","description":"PaymentRequest object.","required":true,"schema":{"$ref":"#/definitions/PaymentRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created","schema":{"$ref":"#/definitions/TransactionInfo"}},"400":{"description":"A form error occurred","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"}},"deprecated":false}},"/api/payment/{id}/cancel":{"put":{"tags":["Payment"],"summary":"Cancel authorization.","operationId":"Payment_CancelAuthorization","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"id","in":"path","description":"","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CancelAuthorizationResponse"}},"400":{"description":"BadRequest","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"}},"deprecated":false}},"/api/payment/{id}/refund":{"put":{"tags":["Payment"],"summary":"Refund transaction","operationId":"Payment_RefundAuthorization","consumes":["application/json","text/json","text/html","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"id","in":"path","description":"","required":true,"type":"string"},{"name":"partialRefundReq","in":"body","required":true,"schema":{"$ref":"#/definitions/PartialRefundRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/RefundAuthorizationResponse"}},"400":{"description":"BadRequest","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"}},"deprecated":false}},"/api/payment/{id}/capture":{"put":{"tags":["Payment"],"summary":"Capture preauthorization.","operationId":"Payment_CaptureAuthorization","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"id","in":"path","description":"","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CaptureAuthorizationResponse"}},"400":{"description":"BadRequest","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"}},"deprecated":false}},"/api/payment/{id}":{"get":{"tags":["Payment"],"summary":"Get Transaction Info","operationId":"Payment_GetTransaction","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"id","in":"path","description":"TransactionId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TransactionInfo"}},"400":{"description":"Form error","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"}},"deprecated":false}},"/api/token/multi":{"post":{"tags":["TokenMulti"],"summary":"Create a multi use token","operationId":"TokenMulti_CreateMultiToken","consumes":["application/json","text/json","text/html","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"request","in":"body","description":"TokenMultiRequest object","required":true,"schema":{"$ref":"#/definitions/TokenMultiRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created","schema":{"$ref":"#/definitions/TokenMultiInfo"}},"400":{"description":"A form error occurred","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"},"404":{"description":"NotFound"}},"deprecated":false}},"/api/token/multi/{tokenId}":{"get":{"tags":["TokenMulti"],"summary":"Get info for multi use token","operationId":"TokenMulti_GetMultiToken","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"tokenId","in":"path","description":"Token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TokenMultiInfo"}},"400":{"description":"Form error","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"},"404":{"description":"NotFound"}},"deprecated":false}},"/api/token/multi/{tokenId}/disable":{"put":{"tags":["TokenMulti"],"summary":"Disable multi use token","operationId":"TokenMulti_DisableMultiToken","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"tokenId","in":"path","description":"Token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"204":{"description":"Success"},"400":{"description":"Form error"},"401":{"description":"Unauthorized"},"404":{"description":"NotFound"},"500":{"description":"InternalServerError"}},"deprecated":false}},"/api/token/single":{"post":{"tags":["TokenSingle"],"summary":"Create a single use token","operationId":"TokenSingle_CreateSingleToken","consumes":["application/json","text/json","text/html","application/xml","text/xml","application/x-www-form-urlencoded"],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"request","in":"body","description":"TokenSingleRequest object","required":true,"schema":{"$ref":"#/definitions/TokenSingleRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created","schema":{"$ref":"#/definitions/TokenSingleInfo"}},"400":{"description":"A form error occurred","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"},"404":{"description":"NotFound"}},"deprecated":false}},"/api/token/single/{tokenId}":{"get":{"tags":["TokenSingle"],"summary":"Get info for single use token","operationId":"TokenSingle_GetSingleToken","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"tokenId","in":"path","description":"Token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TokenSingleInfo"}},"400":{"description":"Form error","schema":{"$ref":"#/definitions/BAPIErrorMessage"}},"401":{"description":"Unauthorized"},"404":{"description":"NotFound"}},"deprecated":false}},"/api/token/single/{tokenId}/disable":{"put":{"tags":["TokenSingle"],"summary":"Disable single use token","operationId":"TokenSingle_DisableSingleToken","consumes":[],"produces":["application/json","text/json","text/html","application/xml","text/xml"],"parameters":[{"name":"tokenId","in":"path","description":"Token","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"204":{"description":"Success"},"400":{"description":"Form error"},"401":{"description":"Unauthorized"},"404":{"description":"NotFound"},"500":{"description":"InternalServerError"}},"deprecated":false}}},"definitions":{"EventNotification":{"type":"object","properties":{"EventId":{"type":"string"},"EventType":{"enum":["PaymentCreate","PaymentCapture","PaymentRefund","PaymentCancel"],"type":"string"},"Created":{"format":"date-time","type":"string"},"Data":{"type":"object"}}},"BAPIErrorMessage":{"type":"object","properties":{"Message":{"type":"string"}}},"MPIFormRequest":{"required":["CardDetails","Currency","Amount","OkUrl","FailUrl"],"type":"object","properties":{"CardDetails":{"$ref":"#/definitions/MpiFormRequestMethod"},"Description":{"type":"string"},"Currency":{"type":"string"},"Exponent":{"format":"int32","type":"integer"},"Amount":{"format":"int32","type":"integer"},"OkUrl":{"type":"string"},"MD":{"type":"string"},"FailUrl":{"type":"string"}}},"MpiFormRequestMethod":{"required":["PaymentType"],"type":"object","properties":{"PaymentType":{"enum":["Unknown","Card","TokenSingle","TokenMulti"],"type":"string"},"PAN":{"type":"string"},"ExpYear":{"type":"string"},"ExpMonth":{"type":"string"},"Token":{"type":"string"}}},"MPIEnrollmentRequest":{"required":["CardDetails","PurchAmount","Currency","TermURL"],"type":"object","properties":{"CardDetails":{"$ref":"#/definitions/MPIEnrollmentRequestMethod"},"PurchAmount":{"format":"int32","type":"integer"},"Exponent":{"format":"int32","type":"integer"},"Currency":{"type":"string"},"TermURL":{"type":"string"},"MD":{"type":"string"},"Description":{"type":"string"},"TxId":{"type":"string"},"Xid":{"type":"string"},"TDS2ThreeDSCompInd":{"type":"string"},"TDS2ThreeDSMethodNotificationURL":{"type":"string"},"TDS2ThreeDSRequestorChallengeInd":{"type":"string"}}},"MPIEnrollmentRequestMethod":{"required":["PaymentType"],"type":"object","properties":{"PaymentType":{"enum":["Unknown","Card","TokenSingle","TokenMulti"],"type":"string"},"PAN":{"type":"string"},"ExpYear":{"type":"string"},"ExpMonth":{"type":"string"},"Token":{"type":"string"},"CVC2":{"type":"string"}}},"MPIPAResRequest":{"type":"object","properties":{"PARes":{"type":"string"},"CRes":{"type":"string"},"MD":{"type":"string"}}},"PaymentRequest":{"required":["TransactionType","Amount","Currency","TransactionDate","PaymentMethod","OrderId"],"type":"object","properties":{"TransactionType":{"enum":["Unknown","PreAuthorization","Sale","Refund"],"type":"string"},"Amount":{"format":"int32","type":"integer"},"Currency":{"type":"string"},"TransactionDate":{"format":"date-time","type":"string"},"PaymentMethod":{"$ref":"#/definitions/PaymentRequestMethod"},"OrderId":{"type":"string"},"ThreeDSecure":{"$ref":"#/definitions/PaymentRequest3DSecure"},"AddressVerification":{"$ref":"#/definitions/PaymentRequestAVS"},"DynamicDescriptors":{"$ref":"#/definitions/PaymentRequestDD"},"Metadata":{"$ref":"#/definitions/Metadata"},"LifeCycleId":{"type":"string"},"AuthType":{"type":"string"}}},"PaymentRequestMethod":{"required":["PaymentType"],"type":"object","properties":{"PaymentType":{"enum":["Unknown","Card","TokenSingle","TokenMulti"],"type":"string"},"PAN":{"type":"string"},"ExpYear":{"type":"string"},"ExpMonth":{"type":"string"},"CVC2":{"type":"string"},"CVC":{"type":"string"},"Token":{"type":"string"}}},"PaymentRequest3DSecure":{"type":"object","properties":{"DataType":{"enum":["Unknown","Manual","Token"],"type":"string"},"MpiToken":{"type":"string"},"SecurityLevelInd":{"type":"string"},"CAVV":{"type":"string"},"UCAF":{"type":"string"},"Xid":{"type":"string"},"DSTransId":{"type":"string"},"ThreeDSVersion":{"type":"string"}}},"PaymentRequestAVS":{"required":["CardholderAddress","CardholderZipCode"],"type":"object","properties":{"CardholderAddress":{"type":"string"},"CardholderZipCode":{"type":"string"}}},"PaymentRequestDD":{"required":["MerchantName"],"type":"object","properties":{"MerchantName":{"type":"string"},"MerchantAddress":{"type":"string"},"MerchantCity":{"type":"string"},"MerchantZipCode":{"type":"string"},"MerchantCountry":{"type":"string"}}},"Metadata":{"required":["Payload"],"type":"object","properties":{"Payload":{"type":"string"}}},"TransactionInfo":{"required":["TransactionId","TransactionType","Amount","Currency","TransactionDate","OrderId","ActionCode","TransactionStatus","PaymentMethod"],"type":"object","properties":{"TransactionId":{"type":"string"},"TransactionType":{"enum":["Unknown","PreAuthorization","Sale","Refund"],"type":"string"},"Amount":{"format":"int32","type":"integer"},"Currency":{"type":"string"},"TransactionDate":{"format":"date-time","type":"string"},"OrderId":{"type":"string"},"AuthCode":{"type":"string"},"ActionCode":{"type":"string"},"OriginalTransactionId":{"type":"string"},"TransactionStatus":{"enum":["Unknown","Accepted","Uncaptured","Captured","Declined","Cancelled","Refunded","RefundedPartial","Error"],"type":"string"},"PaymentMethod":{"$ref":"#/definitions/TransactionInfoMethod"},"AddressVerification":{"$ref":"#/definitions/TransactionInfoAVSResult"},"ThreeDSecure":{"$ref":"#/definitions/TransactionInfo3DSecure"},"RefundTransactions":{"type":"array","items":{"$ref":"#/definitions/TransactionRefundInfo"}},"Metadata":{"$ref":"#/definitions/Metadata"},"ErrorMessages":{"type":"array","items":{"type":"string"}},"Message":{"type":"string"},"LifeCycleId":{"type":"string"}}},"TransactionInfoMethod":{"required":["PaymentType"],"type":"object","properties":{"PaymentType":{"enum":["Unknown","Card","TokenSingle","TokenMulti"],"type":"string"},"PAN":{"type":"string"},"ExpYear":{"type":"string"},"ExpMonth":{"type":"string"},"Token":{"type":"string"},"CardType":{"type":"string"},"IsDebit":{"type":"string"}}},"TransactionInfoAVSResult":{"type":"object","properties":{"AVSResult":{"type":"string"},"Description":{"type":"string"}}},"TransactionInfo3DSecure":{"type":"object","properties":{"MpiToken":{"type":"string"},"SecurityLevelInd":{"type":"string"},"Xid":{"type":"string"}}},"TransactionRefundInfo":{"required":["TransactionId","Amount","TransactionDate","ActionCode"],"type":"object","properties":{"TransactionId":{"type":"string"},"Amount":{"format":"int32","type":"integer"},"TransactionDate":{"format":"date-time","type":"string"},"ActionCode":{"type":"string"}}},"CancelAuthorizationResponse":{"required":["TransactionId","ActionCode"],"type":"object","properties":{"TransactionId":{"type":"string"},"ActionCode":{"type":"string"},"Message":{"type":"string"}}},"PartialRefundRequest":{"required":["PartialAmount"],"type":"object","properties":{"PartialAmount":{"format":"int32","type":"integer"}}},"RefundAuthorizationResponse":{"required":["TransactionId","ActionCode","RefundTransactionId","RefundAmount"],"type":"object","properties":{"TransactionId":{"type":"string"},"ActionCode":{"type":"string"},"RefundTransactionId":{"type":"string"},"RefundAmount":{"format":"int32","type":"integer"},"Message":{"type":"string"}}},"CaptureAuthorizationResponse":{"required":["TransactionId","ActionCode"],"type":"object","properties":{"TransactionId":{"type":"string"},"ActionCode":{"type":"string"},"Message":{"type":"string"}}},"TokenMultiRequest":{"type":"object","properties":{"TokenSingle":{"type":"string"},"PAN":{"type":"string"},"ExpMonth":{"type":"string"},"ExpYear":{"type":"string"},"VerifyCard":{"$ref":"#/definitions/VerifyCardRequest"},"Metadata":{"$ref":"#/definitions/Metadata"}}},"VerifyCardRequest":{"required":["CheckAmount","Currency"],"type":"object","properties":{"CheckAmount":{"format":"int32","type":"integer"},"Currency":{"type":"string"},"CVC":{"type":"string"}}},"TokenMultiInfo":{"required":["Token","PAN","ExpYear","ExpMonth","Enabled"],"type":"object","properties":{"VirtualNumber":{"type":"string"},"Token":{"type":"string"},"PAN":{"type":"string"},"ExpYear":{"type":"string"},"ExpMonth":{"type":"string"},"Enabled":{"type":"boolean"},"VerifyCardResult":{"$ref":"#/definitions/VerifyCardResult"},"Metadata":{"$ref":"#/definitions/Metadata"}}},"VerifyCardResult":{"required":["TransactionId","ActionCode"],"type":"object","properties":{"TransactionId":{"type":"string"},"ActionCode":{"type":"string"}}},"TokenSingleRequest":{"required":["PAN","ExpMonth","ExpYear","TokenLifetime"],"type":"object","properties":{"PAN":{"type":"string"},"ExpMonth":{"type":"string"},"ExpYear":{"type":"string"},"TokenLifetime":{"format":"int32","type":"integer"},"Metadata":{"$ref":"#/definitions/Metadata"}}},"TokenSingleInfo":{"required":["Token","PAN","ExpYear","ExpMonth","Enabled","ValidUntil"],"type":"object","properties":{"Token":{"type":"string"},"PAN":{"type":"string"},"ExpYear":{"type":"string"},"ExpMonth":{"type":"string"},"Enabled":{"type":"boolean"},"Used":{"type":"boolean","readOnly":true},"TransactionId":{"type":"string"},"ValidUntil":{"format":"date-time","type":"string"},"UsedTime":{"format":"date-time","type":"string"},"Metadata":{"$ref":"#/definitions/Metadata"}}}},"securityDefinitions":{"basic":{"type":"basic","description":"Basic HTTP Authentication"}}}